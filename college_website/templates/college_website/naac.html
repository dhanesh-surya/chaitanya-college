{% extends "college_website/iqac_base.html" %}

{% block title %}NAAC Accreditation - {{ block.super }}{% endblock %}

{% block meta_description %}NAAC accreditation details, grades, reports, and quality assessment information for our institution.{% endblock %}

{% block extra_css %}
{{ block.super }}
<style>
/* NAAC Grade Display */
.naac-grade-card {
    background: linear-gradient(135deg, #fef3c7 0%, #f59e0b 100%);
    border-radius: 15px;
    padding: 2rem;
    text-align: center;
    color: white;
    box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
    margin-bottom: 2rem;
}

.naac-grade-card .grade {
    font-size: 4rem;
    font-weight: 900;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    margin-bottom: 0.5rem;
}

.naac-grade-card .grade-label {
    font-size: 1.2rem;
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Accreditation Timeline */
.accreditation-timeline {
    position: relative;
    padding-left: 2rem;
}

.accreditation-timeline::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, #3b82f6, #1e40af);
}

.timeline-item {
    position: relative;
    padding: 1rem 0 1rem 2rem;
    margin-bottom: 1rem;
}

.timeline-item::before {
    content: '';
    position: absolute;
    left: -6px;
    top: 1.5rem;
    width: 12px;
    height: 12px;
    background: #3b82f6;
    border-radius: 50%;
    border: 3px solid white;
    box-shadow: 0 0 0 3px #3b82f6;
}

.timeline-item.current::before {
    background: #f59e0b;
    box-shadow: 0 0 0 3px #f59e0b;
}

.timeline-content {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-left: 4px solid #3b82f6;
}

.timeline-content.current {
    border-left-color: #f59e0b;
    background: linear-gradient(135deg, #fffbeb 0%, #ffffff 100%);
}

.timeline-year {
    color: #1e40af;
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
}

.timeline-grade {
    display: inline-block;
    background: #3b82f6;
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.timeline-grade.current {
    background: #f59e0b;
}

/* Criteria Cards */
.criteria-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.criteria-card {
    background: white;
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
    border: 2px solid #e2e8f0;
    transition: all 0.3s ease;
    position: relative;
}

.criteria-card:hover {
    border-color: #3b82f6;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
}

.criteria-number {
    position: absolute;
    top: -15px;
    left: 20px;
    background: #3b82f6;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.9rem;
}

.criteria-title {
    color: #1e40af;
    font-weight: 600;
    margin-top: 10px;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
}

.criteria-score {
    font-size: 1.5rem;
    font-weight: 700;
    color: #059669;
    margin: 0.5rem 0;
}

.criteria-description {
    color: #6b7280;
    font-size: 0.85rem;
    line-height: 1.4;
}

/* Reports Section */
.reports-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.report-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    overflow: hidden;
    transition: all 0.3s ease;
    border-top: 4px solid #3b82f6;
}

.report-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.report-card-body {
    padding: 1.5rem;
}

.report-card h4 {
    color: #1e40af;
    font-weight: 600;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.report-card .report-meta {
    color: #6b7280;
    font-size: 0.85rem;
    margin-bottom: 0.75rem;
}

.report-card p {
    color: #4b5563;
    font-size: 0.9rem;
    line-height: 1.6;
    margin-bottom: 1rem;
}

/* Statistics Cards */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 2rem 0;
}

.stat-item {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    text-align: center;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
}

.stat-item:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
}

.stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #1e40af;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #6b7280;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 500;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .naac-grade-card .grade {
        font-size: 3rem;
    }
    
    .accreditation-timeline {
        padding-left: 1.5rem;
    }
    
    .timeline-item {
        padding-left: 1.5rem;
    }
    
    .criteria-grid {
        grid-template-columns: 1fr;
    }
}
</style>
{% endblock %}

{% block page_title %}NAAC Accreditation{% endblock %}
{% block page_subtitle %}
{% if naac_info %}
    Grade {{ naac_info.current_grade }} - {{ naac_info.accreditation_year }}
{% else %}
    National Assessment and Accreditation Council
{% endif %}
{% endblock %}

{% block iqac_content %}
<!-- Current Grade Display -->
{% if naac_info %}
<div class="naac-grade-card">
    <div class="grade">{{ naac_info.current_grade }}</div>
    <div class="grade-label">Current NAAC Grade</div>
    <p class="mt-2 mb-0">
        Accredited in {{ naac_info.accreditation_year }}
        {% if naac_info.validity_period %}
            | Valid until {{ naac_info.validity_period }}
        {% endif %}
    </p>
</div>
{% endif %}

<!-- About NAAC -->
<div class="iqac-section">
    <h2>About NAAC Accreditation</h2>
    {% if naac_info and naac_info.overview %}
        <div>{{ naac_info.overview|safe }}</div>
    {% else %}
        <p>The National Assessment and Accreditation Council (NAAC) is an autonomous institutional body funded by University Grants Commission (UGC) of Government of India, headquartered in Bangalore. The NAAC accreditation process involves a comprehensive evaluation of the institution based on seven criteria:</p>
        
        <ul>
            <li><strong>Curricular Aspects:</strong> Academic programmes, curriculum design and development</li>
            <li><strong>Teaching-Learning and Evaluation:</strong> Student-centric methods and evaluation processes</li>
            <li><strong>Research, Innovations and Extension:</strong> Research culture and outreach programmes</li>
            <li><strong>Infrastructure and Learning Resources:</strong> Physical and academic support facilities</li>
            <li><strong>Student Support and Progression:</strong> Student services and career guidance</li>
            <li><strong>Governance, Leadership and Management:</strong> Institutional governance and leadership</li>
            <li><strong>Institutional Values and Best Practices:</strong> Core values and best practices</li>
        </ul>
    {% endif %}
</div>

<!-- Accreditation History -->
{% if naac_history %}
<div class="iqac-section">
    <h2>Accreditation History</h2>
    <div class="accreditation-timeline">
        {% for history in naac_history %}
        <div class="timeline-item {% if history.is_current %}current{% endif %}">
            <div class="timeline-content {% if history.is_current %}current{% endif %}">
                <div class="timeline-year">{{ history.accreditation_year }}</div>
                <div class="timeline-grade {% if history.is_current %}current{% endif %}">
                    Grade {{ history.grade }}
                </div>
                {% if history.score %}
                    <p><strong>Score:</strong> {{ history.score }}</p>
                {% endif %}
                {% if history.remarks %}
                    <p>{{ history.remarks }}</p>
                {% endif %}
                {% if history.validity_period %}
                    <p class="text-muted small">Valid until: {{ history.validity_period }}</p>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- Assessment Criteria -->
{% if naac_info %}
<div class="iqac-section">
    <h2>Assessment Criteria Scores</h2>
    <div class="criteria-grid">
        {% if naac_info.criteria_1_score %}
        <div class="criteria-card">
            <div class="criteria-number">1</div>
            <div class="criteria-title">Curricular Aspects</div>
            <div class="criteria-score">{{ naac_info.criteria_1_score }}</div>
            <div class="criteria-description">Academic programmes and curriculum development</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_2_score %}
        <div class="criteria-card">
            <div class="criteria-number">2</div>
            <div class="criteria-title">Teaching-Learning & Evaluation</div>
            <div class="criteria-score">{{ naac_info.criteria_2_score }}</div>
            <div class="criteria-description">Student-centric methods and evaluation</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_3_score %}
        <div class="criteria-card">
            <div class="criteria-number">3</div>
            <div class="criteria-title">Research & Extension</div>
            <div class="criteria-score">{{ naac_info.criteria_3_score }}</div>
            <div class="criteria-description">Research culture and outreach programmes</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_4_score %}
        <div class="criteria-card">
            <div class="criteria-number">4</div>
            <div class="criteria-title">Infrastructure & Resources</div>
            <div class="criteria-score">{{ naac_info.criteria_4_score }}</div>
            <div class="criteria-description">Physical and academic support facilities</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_5_score %}
        <div class="criteria-card">
            <div class="criteria-number">5</div>
            <div class="criteria-title">Student Support</div>
            <div class="criteria-score">{{ naac_info.criteria_5_score }}</div>
            <div class="criteria-description">Student services and career guidance</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_6_score %}
        <div class="criteria-card">
            <div class="criteria-number">6</div>
            <div class="criteria-title">Governance & Management</div>
            <div class="criteria-score">{{ naac_info.criteria_6_score }}</div>
            <div class="criteria-description">Institutional governance and leadership</div>
        </div>
        {% endif %}
        
        {% if naac_info.criteria_7_score %}
        <div class="criteria-card">
            <div class="criteria-number">7</div>
            <div class="criteria-title">Best Practices</div>
            <div class="criteria-score">{{ naac_info.criteria_7_score }}</div>
            <div class="criteria-description">Core values and best practices</div>
        </div>
        {% endif %}
    </div>
</div>
{% endif %}

<!-- Key Statistics -->
{% if naac_info %}
<div class="iqac-section">
    <h2>Key Statistics</h2>
    <div class="stats-grid">
        {% if naac_info.current_score %}
        <div class="stat-item">
            <div class="stat-value">{{ naac_info.current_score }}</div>
            <div class="stat-label">Overall Score</div>
        </div>
        {% endif %}
        
        {% if naac_info.accreditation_year %}
        <div class="stat-item">
            <div class="stat-value">{{ naac_info.accreditation_year }}</div>
            <div class="stat-label">Last Accredited</div>
        </div>
        {% endif %}
        
        {% if naac_info.peer_team_visit_date %}
        <div class="stat-item">
            <div class="stat-value">{{ naac_info.peer_team_visit_date|date:"M Y" }}</div>
            <div class="stat-label">Peer Team Visit</div>
        </div>
        {% endif %}
        
        <div class="stat-item">
            <div class="stat-value">7</div>
            <div class="stat-label">Assessment Criteria</div>
        </div>
    </div>
</div>
{% endif %}

<!-- Related Reports -->
{% if naac_reports %}
<div class="iqac-section">
    <h2>NAAC Related Reports</h2>
    <div class="reports-grid">
        {% for report in naac_reports %}
        <div class="report-card">
            <div class="report-card-body">
                <h4>{{ report.title }}</h4>
                <div class="report-meta">
                    <i class="fas fa-calendar-alt me-2"></i>{{ report.academic_year }}
                    {% if report.file_size %}
                        <i class="fas fa-file-pdf ms-3 me-2"></i>{{ report.file_size }}
                    {% endif %}
                </div>
                {% if report.description %}
                    <p>{{ report.description|truncatewords:20 }}</p>
                {% endif %}
                <a href="{{ report.report_file.url }}" target="_blank" class="btn btn-primary btn-sm">
                    <i class="fas fa-download me-1"></i>Download
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div class="text-center mt-3">
        <a href="{% url 'college_website:iqac_reports' %}?report_type=naac" class="btn btn-outline-primary">
            <i class="fas fa-eye me-2"></i>View All NAAC Reports
        </a>
    </div>
</div>
{% endif %}

<!-- Documents and Links -->
{% if naac_info.useful_links or naac_info.important_documents %}
<div class="iqac-section">
    <div class="row">
        {% if naac_info.useful_links %}
        <div class="col-md-6">
            <h3>Useful Links</h3>
            <div>{{ naac_info.useful_links|safe }}</div>
        </div>
        {% endif %}
        
        {% if naac_info.important_documents %}
        <div class="col-md-6">
            <h3>Important Documents</h3>
            <div>{{ naac_info.important_documents|safe }}</div>
        </div>
        {% endif %}
    </div>
</div>
{% endif %}

<!-- Contact Information -->
{% if naac_info.coordinator_name or naac_info.contact_email %}
<div class="iqac-section border-top">
    <h2>NAAC Coordinator</h2>
    <div class="row">
        <div class="col-md-8">
            {% if naac_info.coordinator_name %}
                <p><strong>{{ naac_info.coordinator_name }}</strong></p>
            {% endif %}
            {% if naac_info.coordinator_designation %}
                <p>{{ naac_info.coordinator_designation }}</p>
            {% endif %}
            {% if naac_info.contact_phone %}
                <p><i class="fas fa-phone me-2"></i>{{ naac_info.contact_phone }}</p>
            {% endif %}
            {% if naac_info.contact_email %}
                <p><i class="fas fa-envelope me-2"></i>{{ naac_info.contact_email }}</p>
            {% endif %}
        </div>
    </div>
</div>
{% endif %}
{% endblock %}
